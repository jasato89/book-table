{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { Capacitor } from \"@capacitor/core\";\nimport { ModalSearchBarComponent } from '../../components/modal-search-bar/modal-search-bar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@ionic-native/geolocation/ngx\";\nimport * as i3 from \"@agm/core\";\nimport * as i4 from \"./../../services/auth.service\";\nimport * as i5 from \"./../../services/toast.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"./../../services/location.service\";\nimport * as i8 from \"@ionic-native/firebase-analytics/ngx\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../../components/animated-like/animated-like.component\";\nconst _c0 = [\"agmMap\"];\n\nfunction Tab2Page_div_21_ion_grid_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-row\", 8)(2, \"ion-col\", 9)(3, \"ion-list\")(4, \"ion-item\");\n    i0.ɵɵelement(5, \"ion-icon\", 20);\n    i0.ɵɵelementStart(6, \"ion-label\", 21);\n    i0.ɵɵtext(7, \" Dans un rayon de \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-select\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_21_ion_grid_1_Template_ion_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.radiusGPS = $event);\n    })(\"ionChange\", function Tab2Page_div_21_ion_grid_1_Template_ion_select_ionChange_8_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.optionsFn(ctx_r7.radiusGPS));\n    });\n    i0.ɵɵelementStart(9, \"ion-select-option\", 23);\n    i0.ɵɵtext(10, \"500m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-select-option\", 24);\n    i0.ɵɵtext(12, \"1km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-select-option\", 25);\n    i0.ɵɵtext(14, \"5km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-select-option\", 26);\n    i0.ɵɵtext(16, \"10km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ion-select-option\", 27);\n    i0.ɵɵtext(18, \"20km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-select-option\", 28);\n    i0.ɵɵtext(20, \"50km\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.radiusGPS)(\"interfaceOptions\", ctx_r2.customActionSheetOptions);\n  }\n}\n\nconst _c1 = function () {\n  return {\n    width: 20,\n    height: 30\n  };\n};\n\nconst _c2 = function (a1) {\n  return {\n    url: \"./assets/icon/loc_map.svg\",\n    scaledSize: a1\n  };\n};\n\nfunction Tab2Page_div_21_agm_map_3_ng_container_3_agm_marker_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"agm-marker\", 35);\n    i0.ɵɵlistener(\"markerClick\", function Tab2Page_div_21_agm_map_3_ng_container_3_agm_marker_1_Template_agm_marker_markerClick_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      const m_r10 = ctx_r14.$implicit;\n      const i_r11 = ctx_r14.index;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.clickedMarker(m_r10.name, i_r11));\n    });\n    i0.ɵɵelementStart(1, \"agm-info-window\")(2, \"div\");\n    i0.ɵɵelement(3, \"img\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 37);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const m_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"latitude\", m_r10.coords[0].lat)(\"longitude\", m_r10.coords[0].lng)(\"iconUrl\", i0.ɵɵpureFunction1(6, _c2, i0.ɵɵpureFunction0(5, _c1)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://panel.booktable.app/storage/\", m_r10.images[0], \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r10.name);\n  }\n}\n\nfunction Tab2Page_div_21_agm_map_3_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, Tab2Page_div_21_agm_map_3_ng_container_3_agm_marker_1_Template, 6, 8, \"agm-marker\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const m_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r10.isShown);\n  }\n}\n\nconst _c3 = function () {\n  return {\n    width: 10,\n    height: 10\n  };\n};\n\nconst _c4 = function (a1) {\n  return {\n    url: \"./assets/icon/loc_dot.svg\",\n    scaledSize: a1\n  };\n};\n\nfunction Tab2Page_div_21_agm_map_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"agm-map\", 29, 30);\n    i0.ɵɵlistener(\"zoomChange\", function Tab2Page_div_21_agm_map_3_Template_agm_map_zoomChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.onZoomChange($event));\n    });\n    i0.ɵɵelement(2, \"agm-marker\", 31);\n    i0.ɵɵtemplate(3, Tab2Page_div_21_agm_map_3_ng_container_3_Template, 2, 1, \"ng-container\", 32);\n    i0.ɵɵelement(4, \"agm-circle\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"height\", 300, \"px\");\n    i0.ɵɵproperty(\"latitude\", ctx_r3.coordLatitude)(\"longitude\", ctx_r3.coordLongitude)(\"zoom\", ctx_r3.zoom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"latitude\", ctx_r3.coordLatitude)(\"longitude\", ctx_r3.coordLongitude)(\"iconUrl\", i0.ɵɵpureFunction1(14, _c4, i0.ɵɵpureFunction0(13, _c3)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.restaurants);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"latitude\", ctx_r3.radiusLat)(\"longitude\", ctx_r3.radiusLong)(\"radius\", ctx_r3.radius)(\"fillColor\", \"#00BA5C\");\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" \\u00B7 \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 51);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 51);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 52);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2, \"\\u00A0 Midi: \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const m_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", m_r20.day_commensals, \" \");\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" / \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 52);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2, \"\\u00A0 Soir: \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const m_r20 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", m_r20.night_commensals, \" \");\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_button_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 54);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_button_27_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const m_r20 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r39.goToBooking(m_r20));\n    });\n    i0.ɵɵtext(1, \" R\\u00E9server \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-card\")(1, \"ion-card-header\");\n    i0.ɵɵelement(2, \"app-animated-like\", 38);\n    i0.ɵɵelementStart(3, \"img\", 39);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_Template_img_click_3_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const m_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.viewRestaurant(m_r20));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-card-title\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵtemplate(6, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_6_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(7, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_7_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(8, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_8_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(9, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_9_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"ion-card-content\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtemplate(13, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ng_container_13_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtemplate(14, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_14_Template, 1, 0, \"ion-icon\", 42);\n    i0.ɵɵtemplate(15, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_15_Template, 1, 0, \"ion-icon\", 42);\n    i0.ɵɵelementStart(16, \"div\", 43);\n    i0.ɵɵtemplate(17, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_17_Template, 1, 0, \"ion-icon\", 44);\n    i0.ɵɵtemplate(18, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_18_Template, 3, 0, \"span\", 45);\n    i0.ɵɵtemplate(19, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_19_Template, 3, 1, \"span\", 45);\n    i0.ɵɵtemplate(20, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ng_container_20_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtemplate(21, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_icon_21_Template, 1, 0, \"ion-icon\", 44);\n    i0.ɵɵtemplate(22, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_22_Template, 3, 0, \"span\", 45);\n    i0.ɵɵtemplate(23, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_span_23_Template, 3, 1, \"span\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 46)(25, \"ion-row\")(26, \"ion-col\", 47);\n    i0.ɵɵtemplate(27, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_ion_button_27_Template, 2, 0, \"ion-button\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"ion-col\", 47)(29, \"ion-button\", 49);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_Template_ion_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const m_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r45 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r45.viewRestaurant(m_r20));\n    });\n    i0.ɵɵtext(30, \" Info & Menu \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const m_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"like\", m_r20.like)(\"id_user\", ctx_r21.id_user)(\"id_rest\", m_r20.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://panel.booktable.app/storage/\", m_r20.images[0], \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", m_r20.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.michelin_starts > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.michelin_starts > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.michelin_starts > 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.michelin_starts > 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", m_r20.city, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", m_r20.bib_gourmand > 0 && m_r20.michelin_starts > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.bib_gourmand > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.bib_gourmand > 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", m_r20.day_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.day_commensals > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.day_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.night_commensals && m_r20.day_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.night_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.night_commensals > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.night_commensals);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", m_r20.disponible);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, Tab2Page_div_21_ion_grid_4_ng_container_1_ion_card_1_Template, 31, 21, \"ion-card\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const m_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r20.isShown);\n  }\n}\n\nfunction Tab2Page_div_21_ion_grid_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\");\n    i0.ɵɵtemplate(1, Tab2Page_div_21_ion_grid_4_ng_container_1_Template, 2, 1, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.restaurants);\n  }\n}\n\nfunction Tab2Page_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Tab2Page_div_21_ion_grid_1_Template, 21, 2, \"ion-grid\", 17);\n    i0.ɵɵelementStart(2, \"ion-grid\", 18);\n    i0.ɵɵtemplate(3, Tab2Page_div_21_agm_map_3_Template, 5, 16, \"agm-map\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, Tab2Page_div_21_ion_grid_4_Template, 2, 1, \"ion-grid\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.avaibleMap);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.avaibleMap);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.avaibleMap);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-select-option\", 75);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r50 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r50.city);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r50.city);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 78)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const m_r51 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", m_r51.commensals, \" \");\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_icon_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 79);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 50);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_1_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(2, Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_2_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(3, Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_3_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵtemplate(4, Tab2Page_div_22_ng_container_54_ng_container_13_ion_icon_4_Template, 1, 0, \"ion-icon\", 41);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const m_r51 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.michelin_starts > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.michelin_starts > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.michelin_starts > 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.michelin_starts > 3);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" \\u00B7 \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_icon_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 51);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_icon_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 51);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_icon_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 52);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2, \"\\u00A0 Midi: \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ng_container_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" / \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_icon_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 52);\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 53)(1, \"strong\");\n    i0.ɵɵtext(2, \"\\u00A0 Soir: \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_ion_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 54);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_22_ng_container_54_ion_button_32_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const m_r51 = i0.ɵɵnextContext().$implicit;\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.goToBooking(m_r51));\n    });\n    i0.ɵɵtext(1, \" R\\u00E9server \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction Tab2Page_div_22_ng_container_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r74 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-card\")(2, \"ion-card-header\");\n    i0.ɵɵelement(3, \"app-animated-like\", 38);\n    i0.ɵɵelementStart(4, \"img\", 39);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_22_ng_container_54_Template_img_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r74);\n      const m_r51 = restoredCtx.$implicit;\n      const ctx_r73 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r73.viewRestaurant(m_r51));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-card-title\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"ion-card-content\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"div\", 43);\n    i0.ɵɵtemplate(11, Tab2Page_div_22_ng_container_54_span_11_Template, 3, 1, \"span\", 76);\n    i0.ɵɵtemplate(12, Tab2Page_div_22_ng_container_54_ion_icon_12_Template, 1, 0, \"ion-icon\", 77);\n    i0.ɵɵtemplate(13, Tab2Page_div_22_ng_container_54_ng_container_13_Template, 5, 4, \"ng-container\", 17);\n    i0.ɵɵtemplate(14, Tab2Page_div_22_ng_container_54_ng_container_14_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtemplate(15, Tab2Page_div_22_ng_container_54_ion_icon_15_Template, 1, 0, \"ion-icon\", 42);\n    i0.ɵɵtemplate(16, Tab2Page_div_22_ng_container_54_ion_icon_16_Template, 1, 0, \"ion-icon\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 43);\n    i0.ɵɵtemplate(18, Tab2Page_div_22_ng_container_54_ion_icon_18_Template, 1, 0, \"ion-icon\", 44);\n    i0.ɵɵtemplate(19, Tab2Page_div_22_ng_container_54_span_19_Template, 3, 0, \"span\", 45);\n    i0.ɵɵelementStart(20, \"span\", 53)(21, \"strong\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(23, Tab2Page_div_22_ng_container_54_ng_container_23_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtemplate(24, Tab2Page_div_22_ng_container_54_ion_icon_24_Template, 1, 0, \"ion-icon\", 44);\n    i0.ɵɵtemplate(25, Tab2Page_div_22_ng_container_54_span_25_Template, 3, 0, \"span\", 45);\n    i0.ɵɵelementStart(26, \"span\", 53)(27, \"strong\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 46)(30, \"ion-row\")(31, \"ion-col\", 47);\n    i0.ɵɵtemplate(32, Tab2Page_div_22_ng_container_54_ion_button_32_Template, 2, 0, \"ion-button\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"ion-col\", 47)(34, \"ion-button\", 49);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_22_ng_container_54_Template_ion_button_click_34_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r74);\n      const m_r51 = restoredCtx.$implicit;\n      const ctx_r75 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r75.viewRestaurant(m_r51));\n    });\n    i0.ɵɵtext(35, \" Info & Menu \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const m_r51 = ctx.$implicit;\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"like\", m_r51.like)(\"id_user\", ctx_r49.id_user)(\"id_rest\", m_r51.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://panel.booktable.app/storage/\", m_r51.images[0], \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r51.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", m_r51.city, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", m_r51.commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.michelin_starts > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.bib_gourmand > 0 && m_r51.michelin_starts > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.bib_gourmand > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.bib_gourmand > 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", m_r51.day_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.day_commensals > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", m_r51.day_commensals, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.night_commensals && m_r51.day_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.night_commensals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", m_r51.night_commensals > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", m_r51.night_commensals, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", m_r51.disponible);\n  }\n}\n\nfunction Tab2Page_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-grid\")(2, \"ion-row\", 8)(3, \"ion-col\", 9)(4, \"ion-list\")(5, \"ion-item\");\n    i0.ɵɵelement(6, \"ion-icon\", 55);\n    i0.ɵɵelementStart(7, \"ion-label\", 56);\n    i0.ɵɵtext(8, \" Ville \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-select\", 57);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_22_Template_ion_select_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.city = $event);\n    })(\"ionChange\", function Tab2Page_div_22_Template_ion_select_ionChange_9_listener() {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r78 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r78.optionsCity(ctx_r78.city));\n    });\n    i0.ɵɵtemplate(10, Tab2Page_div_22_ng_container_10_Template, 3, 2, \"ng-container\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"ion-item\");\n    i0.ɵɵelement(12, \"ion-icon\", 58);\n    i0.ɵɵelementStart(13, \"ion-label\", 21);\n    i0.ɵɵtext(14, \" Type de cuisine \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-select\", 57);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_22_Template_ion_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r79 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r79.topics = $event);\n    })(\"ionChange\", function Tab2Page_div_22_Template_ion_select_ionChange_15_listener() {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r80 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r80.optionsTopics(ctx_r80.topics));\n    });\n    i0.ɵɵelementStart(16, \"ion-select-option\", 59);\n    i0.ɵɵtext(17, \"Tous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"ion-select-option\", 60);\n    i0.ɵɵtext(19, \"Belge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"ion-select-option\", 61);\n    i0.ɵɵtext(21, \"Fran\\u00E7aise\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"ion-select-option\", 62);\n    i0.ɵɵtext(23, \"Gastronomique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"ion-select-option\", 63);\n    i0.ɵɵtext(25, \"Italienne\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"ion-select-option\", 64);\n    i0.ɵɵtext(27, \"Asiatique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"ion-select-option\", 65);\n    i0.ɵɵtext(29, \"Terroir\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"ion-select-option\", 66);\n    i0.ɵɵtext(31, \"Brasserie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"ion-select-option\", 67);\n    i0.ɵɵtext(33, \"Fusion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"ion-select-option\", 68);\n    i0.ɵɵtext(35, \"Exotique\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"ion-item\");\n    i0.ɵɵelement(37, \"ion-icon\", 69);\n    i0.ɵɵelementStart(38, \"ion-label\", 70);\n    i0.ɵɵtext(39, \"Montrer uniquement mes favoris?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"ion-checkbox\", 71);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_22_Template_ion_checkbox_ngModelChange_40_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r81 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r81.postData.favorites = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"ion-item\");\n    i0.ɵɵelement(42, \"ion-icon\", 72);\n    i0.ɵɵelementStart(43, \"ion-label\", 21);\n    i0.ɵɵtext(44, \"Bib gourmand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"ion-checkbox\", 71);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_22_Template_ion_checkbox_ngModelChange_45_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r82 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r82.postData.bib_gourmand = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"ion-item\");\n    i0.ɵɵelement(47, \"ion-icon\", 73);\n    i0.ɵɵelementStart(48, \"ion-label\", 21);\n    i0.ɵɵtext(49, \"Michelin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"ion-checkbox\", 71);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_div_22_Template_ion_checkbox_ngModelChange_50_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r83 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r83.postData.michelin = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(51, \"ion-button\", 74);\n    i0.ɵɵlistener(\"click\", function Tab2Page_div_22_Template_ion_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r84 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r84.searchAction());\n    });\n    i0.ɵɵtext(52, \"Recherche\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(53, \"ion-grid\");\n    i0.ɵɵtemplate(54, Tab2Page_div_22_ng_container_54_Template, 36, 20, \"ng-container\", 32);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.city)(\"interfaceOptions\", ctx_r1.customAlertOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cities);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.topics)(\"interfaceOptions\", ctx_r1.customActionSheetOptions);\n    i0.ɵɵadvance(25);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.postData.favorites);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.postData.bib_gourmand);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.postData.michelin);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.restaurantsFilter);\n  }\n}\n\nexport let Tab2Page = /*#__PURE__*/(() => {\n  class Tab2Page {\n    constructor(modalController, geolocation, mapsAPILoader, loadingController, authService, toastService, route, router, locationService, navCtrl, platform, firebaseAnalytics) {\n      this.modalController = modalController;\n      this.geolocation = geolocation;\n      this.mapsAPILoader = mapsAPILoader;\n      this.loadingController = loadingController;\n      this.authService = authService;\n      this.toastService = toastService;\n      this.route = route;\n      this.router = router;\n      this.locationService = locationService;\n      this.navCtrl = navCtrl;\n      this.platform = platform;\n      this.firebaseAnalytics = firebaseAnalytics;\n      this.zoom = 15;\n      this.radius = 500;\n      this.radiusLat = 0;\n      this.radiusLong = 0;\n      this.postData = {\n        topic: '',\n        commensals: '',\n        city: '',\n        favorites: false,\n        bib_gourmand: false,\n        michelin: false,\n        id_user: ''\n      };\n    }\n\n    ngOnInit() {\n      this.commensals = 'any';\n    }\n\n    ionViewWillEnter() {\n      this.getRestaurants();\n      this.getCities();\n    }\n\n    ionViewDidEnter() {\n      this.mapsAPILoader.load().then(() => {\n        this.getMyLocation();\n\n        if (!this.platform.is('mobileweb')) {\n          this.firebaseAnalytics.logEvent('page_view', {\n            page: \"Search View\"\n          }).then(res => console.log(res)).catch(error => console.error(error));\n        }\n      });\n    }\n\n    ionViewDidLeave() {\n      this.coordLatitude = null;\n      this.coordLongitude = null;\n      this.avaibleMap = false;\n    }\n\n    openModal() {\n      this.presentModal();\n    }\n\n    segmentChanged(ev) {}\n\n    drawMap() {\n      this.agmMap.triggerResize();\n    }\n\n    getMyLocation() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.platform.is('ios')) {\n          this.setCurrentLocation();\n        } else {\n          this.requestPermissionAndroid();\n        }\n      });\n    }\n\n    requestPermissionAndroid() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const hasPermission = yield this.locationService.checkGPSPermission();\n\n        if (hasPermission) {\n          if (Capacitor.isNative) {\n            const canUseGPS = yield this.locationService.askToTurnOnGPS();\n            this.postGPSPermission(canUseGPS);\n          } else {\n            this.postGPSPermission(true);\n          }\n        } else {\n          const permission = yield this.locationService.requestGPSPermission();\n\n          if (permission === 'CAN_REQUEST' || permission === 'GOT_PERMISSION') {\n            if (Capacitor.isNative) {\n              const canUseGPS = yield this.locationService.askToTurnOnGPS();\n              this.postGPSPermission(canUseGPS);\n            } else {\n              this.postGPSPermission(true);\n            }\n          }\n        }\n      });\n    }\n\n    postGPSPermission(canUseGPS) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (canUseGPS) {\n          this.watchPosition();\n        } else {\n          this.toastService.presentToast('Please turn on GPS to get location');\n        }\n      });\n    }\n\n    watchPosition() {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          this.setCurrentLocation();\n        } catch (err) {}\n      });\n    }\n\n    setCurrentLocation() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const loading = yield this.loadingController.create({\n          message: 'Chargement...',\n          mode: 'ios'\n        });\n        yield loading.present();\n        this.geolocation.getCurrentPosition().then(resp => {\n          this.coordLatitude = resp.coords.latitude;\n          this.coordLongitude = resp.coords.longitude;\n          this.radiusLat = this.coordLatitude;\n          this.radiusLong = this.coordLongitude;\n          this.avaibleMap = true;\n\n          if (this.restaurants) {\n            this.showHideMarkers();\n          }\n\n          this.segment = 'proximity';\n          loading.dismiss();\n        }).catch(error => {\n          loading.dismiss();\n        });\n      });\n    }\n\n    clickedMarker(label, index) {}\n\n    getRestaurants() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.id_user = window.localStorage.getItem('id_user');\n        this.postData.id_user = this.id_user;\n        this.authService.getAllRestaurants(this.postData).subscribe(res => {\n          var maxLength = 100;\n          this.restaurants = res;\n          this.restaurants.forEach(element => {\n            element.images = JSON.parse(element.images);\n            element.isShown = false;\n            element.description_short = element.description.substring(0, maxLength) + '...';\n            element.restaurant_menu = JSON.parse(element.restaurant_menu); //console.log(element)\n\n            if (element.restaurant_menu[0]) {\n              element.restaurant_menu = element.restaurant_menu[0].download_link;\n            }\n          });\n          this.showHideMarkers();\n        }, error => {\n          this.toastService.presentToast('Problème de réseau.');\n        });\n      });\n    }\n\n    optionsFn(radiusGPS) {\n      this.radius = parseInt(radiusGPS);\n      if (this.radius == 500) this.onZoomChange(15);\n      if (this.radius == 1000) this.onZoomChange(14);\n      if (this.radius == 5000) this.onZoomChange(12);\n      if (this.radius == 10000) this.onZoomChange(11);\n      if (this.radius == 20000) this.onZoomChange(10);\n      if (this.radius == 50000) this.onZoomChange(9);\n      this.showHideMarkers();\n    }\n\n    onZoomChange(newZoomValue) {\n      this.zoom = newZoomValue;\n    }\n\n    showHideMarkers() {\n      this.restaurants.forEach(value => {\n        value.isShown = this.getDistanceBetween(value.coords[0].lat, value.coords[0].lng, this.radiusLat, this.radiusLong);\n      });\n    }\n\n    optionsCommensals(commensals) {\n      this.commensals = commensals;\n    }\n\n    optionsTopics(topics) {\n      this.topics = topics;\n    }\n\n    optionsCity(city) {\n      this.city = city;\n    }\n\n    tabChange(segment) {\n      if (segment == 'proximity') {} else {\n        this.coordLatitude = null;\n        this.coordLongitude = null;\n        this.avaibleMap = false;\n      }\n    }\n\n    refreshProximity() {\n      this.getMyLocation();\n    }\n\n    validateInputs() {\n      let commensals = this.commensals;\n      return this.commensals && commensals.length > 0;\n    }\n\n    viewRestaurant(m) {\n      let navigationExtras = {\n        state: {\n          item: m\n        }\n      };\n      this.router.navigate(['home/tabs/tabs2/restaurant-details'], navigationExtras);\n    }\n\n    profile() {\n      this.router.navigate(['home/tabs/user-profile']);\n    }\n\n    getDistanceBetween(lat1, long1, lat2, long2) {\n      var from = new google.maps.LatLng(lat1, long1);\n      var to = new google.maps.LatLng(lat2, long2);\n\n      if (google.maps.geometry.spherical.computeDistanceBetween(from, to) <= this.radius) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    SortArray(x, y) {\n      if (x.city < y.city) {\n        return -1;\n      }\n\n      if (x.city > y.city) {\n        return 1;\n      }\n\n      return 0;\n    }\n\n    getCities() {\n      this.authService.getCitysFromRestaurants().subscribe(res => {\n        this.cities = res; //console.log(this.cities.sort(this.SortArray))\n      }, error => {\n        this.toastService.presentToast('Problème de réseau.');\n      });\n    }\n\n    goToBooking(m) {\n      if (m.restaurant) {\n        m = m.restaurant;\n      }\n\n      let navigationExtras = {\n        state: {\n          item: m\n        }\n      };\n      this.router.navigate(['home/tabs/tabs2/restaurant-details/booking'], navigationExtras);\n    }\n\n    ordenar(a, b) {\n      return b.disponible - a.disponible;\n    }\n\n    searchAction() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.validateInputs()) {\n          const loading = yield this.loadingController.create({\n            message: 'Chargement...',\n            mode: 'ios'\n          });\n          yield loading.present(); // this.postData.commensals = this.commensals;\n\n          this.postData.topic = this.topics;\n          this.postData.city = this.city;\n          this.postData.id_user = window.localStorage.getItem('id_user');\n          console.log(this.postData);\n          this.authService.getBookings(this.postData).subscribe(res => {\n            var maxLength = 140;\n            this.restaurantsFilter = res.sort(this.ordenar);\n            console.log(this.restaurantsFilter);\n\n            if (this.restaurantsFilter) {\n              this.restaurantsFilter.forEach(element => {\n                element.images = JSON.parse(element.images);\n                element.description_short = element.description.substring(0, maxLength) + '...';\n                console.log(element);\n              });\n            } else {\n              this.toastService.presentToast(\"Il n'y a aucum restaurant correspondant à vos critères \");\n            }\n\n            loading.dismiss();\n          }, error => {\n            loading.dismiss();\n            this.restaurantsFilter = null;\n          });\n        } else {\n          this.toastService.presentToast('Remplissez les champs: \"Nombre de couverts\"');\n        }\n      });\n    }\n\n    presentModal() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalController.create({\n          component: ModalSearchBarComponent,\n          cssClass: 'my-modal-component'\n        });\n        return yield modal.present();\n      });\n    }\n\n  }\n\n  Tab2Page.ɵfac = function Tab2Page_Factory(t) {\n    return new (t || Tab2Page)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.Geolocation), i0.ɵɵdirectiveInject(i3.MapsAPILoader), i0.ɵɵdirectiveInject(i1.LoadingController), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.ToastService), i0.ɵɵdirectiveInject(i6.ActivatedRoute), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.LocationService), i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i1.Platform), i0.ɵɵdirectiveInject(i8.FirebaseAnalytics));\n  };\n\n  Tab2Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Tab2Page,\n    selectors: [[\"app-tab2\"]],\n    viewQuery: function Tab2Page_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.agmMap = _t.first);\n      }\n    },\n    decls: 23,\n    vars: 5,\n    consts: [[\"src\", \"assets/resources/logo_letters.svg\", 1, \"smallLogo\"], [\"slot\", \"end\", 1, \"profile-button\"], [\"name\", \"person-circle-outline\", 1, \"profile-icon\", 3, \"click\"], [3, \"fullscreen\"], [1, \"searchbar-grid\"], [1, \"ion-justify-content-center\", \"searchbar\"], [\"size\", \"12\", 1, \"center-col\", \"searchbar-col\"], [\"mode\", \"ios\", \"placeholder\", \"Nom du restaurant\", \"animated\", \"\", \"showCancelButton\", \"never\", 1, \"searchbar-button\", 3, \"click\"], [1, \"ion-justify-content-center\"], [\"size\", \"12\"], [\"mode\", \"ios\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"value\", \"proximity\", 3, \"click\"], [\"name\", \"compass-outline\", 1, \"icons-green\"], [\"value\", \"filter\"], [\"name\", \"search-outline\", 1, \"icons-green\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngIf\"], [1, \"map-container\"], [\"id\", \"agmMap\", 3, \"height\", \"latitude\", \"longitude\", \"zoom\", \"zoomChange\", 4, \"ngIf\"], [\"name\", \"compass-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"floating\", \"\"], [\"mode\", \"ios\", \"interface\", \"action-sheet\", \"placeholder\", \"500m - 20km\", \"cancelText\", \"Annuler\", 3, \"ngModel\", \"interfaceOptions\", \"ngModelChange\", \"ionChange\"], [\"value\", \"500\"], [\"value\", \"1000\"], [\"value\", \"5000\"], [\"value\", \"10000\"], [\"value\", \"20000\"], [\"value\", \"50000\"], [\"id\", \"agmMap\", 3, \"latitude\", \"longitude\", \"zoom\", \"zoomChange\"], [\"agmMap\", \"\"], [3, \"latitude\", \"longitude\", \"iconUrl\"], [4, \"ngFor\", \"ngForOf\"], [3, \"latitude\", \"longitude\", \"radius\", \"fillColor\"], [3, \"latitude\", \"longitude\", \"iconUrl\", \"markerClick\", 4, \"ngIf\"], [3, \"latitude\", \"longitude\", \"iconUrl\", \"markerClick\"], [\"width\", \"150\", \"height\", \"90\", 3, \"src\"], [1, \"title-infowindow\"], [3, \"like\", \"id_user\", \"id_rest\"], [1, \"img-restaurants\", 3, \"src\", \"click\"], [1, \"title-card-featured\"], [\"src\", \"assets/icon/1_star.svg\", \"class\", \"icons-green-item\", 4, \"ngIf\"], [\"src\", \"assets/icon/icon_michelin.svg\", \"class\", \"icons-green\", 4, \"ngIf\"], [1, \"icons-card\"], [\"src\", \"assets/icon/commensals.svg\", \"class\", \"icons-green\", 4, \"ngIf\"], [\"class\", \"text-commensals\", \"style\", \"font-size: 18px;\", 4, \"ngIf\"], [1, \"button-card\"], [\"size-xs\", \"6\", \"size-sm\", \"6\", \"size-md\", \"6\", \"size-lg\", \"6\"], [\"expand\", \"block\", \"class\", \"btn-reserve\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", 1, \"btn-info\", 3, \"click\"], [\"src\", \"assets/icon/1_star.svg\", 1, \"icons-green-item\"], [\"src\", \"assets/icon/icon_michelin.svg\", 1, \"icons-green\"], [\"src\", \"assets/icon/commensals.svg\", 1, \"icons-green\"], [1, \"text-commensals\", 2, \"font-size\", \"18px\"], [\"expand\", \"block\", 1, \"btn-reserve\", 3, \"click\"], [\"name\", \"earth-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"floating\", \"\", 1, \"label-wishlist\"], [\"mode\", \"ios\", \"interface\", \"action-sheet\", \"cancelText\", \"Annuler\", 3, \"ngModel\", \"interfaceOptions\", \"ngModelChange\", \"ionChange\"], [\"name\", \"bookmarks-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"value\", \"all\"], [\"value\", \"belge\"], [\"value\", \"fran\\u00E7aise\"], [\"value\", \"gastronomique\"], [\"value\", \"italienne\"], [\"value\", \"asiatique\"], [\"value\", \"terroir\"], [\"value\", \"brasserie\"], [\"value\", \"fusion\"], [\"value\", \"exotique\"], [\"name\", \"heart-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"floating\", \"\", 1, \"ion-text-wrap\"], [\"slot\", \"end\", \"mode\", \"ios\", \"checked\", \"false\", 3, \"ngModel\", \"ngModelChange\"], [\"src\", \"assets/icon/icon_michelin.svg\", \"item-start\", \"\", 1, \"icons-green\"], [\"src\", \"assets/icon/1_star.svg\", \"item-start\", \"\", 1, \"icons-green\"], [\"expand\", \"block\", 3, \"click\"], [3, \"value\"], [\"style\", \"font-size: 18px;\", 4, \"ngIf\"], [\"src\", \"assets/icon/commensals.svg\", \"class\", \"icons-green-item\", 4, \"ngIf\"], [2, \"font-size\", \"18px\"], [\"src\", \"assets/icon/commensals.svg\", 1, \"icons-green-item\"]],\n    template: function Tab2Page_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\");\n        i0.ɵɵelement(2, \"img\", 0);\n        i0.ɵɵelementStart(3, \"ion-buttons\", 1)(4, \"ion-icon\", 2);\n        i0.ɵɵlistener(\"click\", function Tab2Page_Template_ion_icon_click_4_listener() {\n          return ctx.profile();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(5, \"ion-content\", 3)(6, \"ion-grid\", 4)(7, \"ion-row\", 5)(8, \"ion-col\", 6)(9, \"ion-searchbar\", 7);\n        i0.ɵɵlistener(\"click\", function Tab2Page_Template_ion_searchbar_click_9_listener() {\n          return ctx.openModal();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"ion-grid\")(11, \"ion-row\", 8)(12, \"ion-col\", 9)(13, \"ion-segment\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function Tab2Page_Template_ion_segment_ngModelChange_13_listener($event) {\n          return ctx.segment = $event;\n        })(\"ionChange\", function Tab2Page_Template_ion_segment_ionChange_13_listener() {\n          return ctx.tabChange(ctx.segment);\n        });\n        i0.ɵɵelementStart(14, \"ion-segment-button\", 11);\n        i0.ɵɵlistener(\"click\", function Tab2Page_Template_ion_segment_button_click_14_listener() {\n          return ctx.refreshProximity();\n        });\n        i0.ɵɵelement(15, \"ion-icon\", 12);\n        i0.ɵɵtext(16, \" A proximit\\u00E9 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"ion-segment-button\", 13);\n        i0.ɵɵelement(18, \"ion-icon\", 14);\n        i0.ɵɵtext(19, \" Filtre \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(20, \"div\", 15);\n        i0.ɵɵtemplate(21, Tab2Page_div_21_Template, 5, 3, \"div\", 16);\n        i0.ɵɵtemplate(22, Tab2Page_div_22_Template, 55, 9, \"div\", 16);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.segment);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngSwitch\", ctx.segment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"proximity\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"filter\");\n      }\n    },\n    dependencies: [i1.IonButton, i1.IonButtons, i1.IonCard, i1.IonCardContent, i1.IonCardHeader, i1.IonCardTitle, i1.IonCheckbox, i1.IonCol, i1.IonContent, i1.IonGrid, i1.IonHeader, i1.IonIcon, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonRow, i1.IonSearchbar, i1.IonSegment, i1.IonSegmentButton, i1.IonSelect, i1.IonSelectOption, i1.IonToolbar, i1.BooleanValueAccessor, i1.SelectValueAccessor, i1.TextValueAccessor, i9.NgForOf, i9.NgIf, i9.NgSwitch, i9.NgSwitchCase, i10.NgControlStatus, i10.NgModel, i3.AgmCircle, i3.AgmInfoWindow, i3.AgmMap, i3.AgmMarker, i11.AnimatedLikeComponent],\n    styles: [\"ion-toolbar[_ngcontent-%COMP%]{text-align:center;margin:0 auto;--background: #1C2129}ion-title[_ngcontent-%COMP%]{color:#fff}ion-content[_ngcontent-%COMP%]{--background:#fff}.searchbar-grid[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(0,186,92) 0%,rgb(0,136,150) 90%)}ion-searchbar[_ngcontent-%COMP%]{--placeholder-color: #fff;--icon-color: #fff;--background: #00000021}ion-card-header[_ngcontent-%COMP%]{padding:0}ion-card-title[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:15px;margin-top:15px}.searchbar-button[_ngcontent-%COMP%]::-moz-placeholder{font-size:12px}.searchbar-button[_ngcontent-%COMP%]::placeholder{font-size:12px}.smallLogo[_ngcontent-%COMP%]{width:150px;text-align:center;margin:10px}.map-container[_ngcontent-%COMP%]{padding:0;margin:0}ion-label[_ngcontent-%COMP%]{font-weight:700;margin:10px}.icons-green[_ngcontent-%COMP%]{color:#00ba5c;font-size:30px}.title-infowindow[_ngcontent-%COMP%]{font-weight:700;text-align:center}.btn-search[_ngcontent-%COMP%]{--background: rgb(0,186,92);--background: linear-gradient(180deg, rgba(0,186,92,1) 0%, rgba(0,153,153,1) 100%);color:#fff;font-weight:800}.img-restaurants[_ngcontent-%COMP%]{width:100%;height:auto}agm-map[_ngcontent-%COMP%]{height:300px}.custom-icons-card[_ngcontent-%COMP%]{--padding-start: 0px}.profile-button[_ngcontent-%COMP%]{position:absolute;color:#fff;right:10px}.profile-icon[_ngcontent-%COMP%]{font-size:24px}.icons-card[_ngcontent-%COMP%]{padding-top:10px}.icons-green-item[_ngcontent-%COMP%]{color:#00ba5c;font-size:16px}.claim-text[_ngcontent-%COMP%]{margin:4px;color:#fff}.btn-reserve[_ngcontent-%COMP%]{--background:#00ba5c;--color:white}\"]\n  });\n  return Tab2Page;\n})();","map":null,"metadata":{},"sourceType":"module"}