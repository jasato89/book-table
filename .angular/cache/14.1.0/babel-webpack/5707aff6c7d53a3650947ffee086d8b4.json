{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./http.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@ionic-native/facebook/ngx\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(httpService, navCtrl, fb) {\n      this.httpService = httpService;\n      this.navCtrl = navCtrl;\n      this.fb = fb;\n      this.userData$ = new BehaviorSubject([]);\n    }\n    /** Guest API Calls */\n\n\n    getBookingsAllGuest(data) {\n      return this.httpService.guestPost('getBookingsAll', data);\n    }\n\n    getLastRestaurantsGuest(data) {\n      return this.httpService.guestPost('getLastRestaurants', data);\n    }\n    /** Auth API Calls */\n\n\n    login(postData) {\n      return this.httpService.auth('login', postData);\n    }\n\n    loginFacebook(postData) {\n      return this.httpService.auth('login-facebook', postData);\n    }\n\n    loginApple(postData) {\n      return this.httpService.auth('login-apple', postData);\n    }\n\n    register(postData) {\n      return this.httpService.auth('register', postData);\n    }\n\n    registerBusiness(postData) {\n      return this.httpService.auth('register-business', postData);\n    }\n\n    getUser() {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.get('user', token);\n    }\n\n    update(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('update', data, token);\n    }\n\n    resetPassword(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('forget-password', data, token);\n    }\n\n    registerTokenDevice(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('registerTokenDevice', data, token);\n    }\n    /** Common API Calls GET **/\n\n\n    getAllRestaurantsFeatures(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getAllRestaurantsFeatures', data, token);\n    }\n\n    getAllRestaurants(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getAllRestaurants', data, token);\n    }\n\n    getCitysFromRestaurants() {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.get('getCitysFromRestaurants', token);\n    }\n\n    getRestaurantsTops() {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.get('getRestaurantsTops', token);\n    }\n\n    getRestaurantsTopsList(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getRestaurantsTopsList', data, token);\n    }\n    /** Common API Calls POST **/\n\n\n    getLastRestaurants(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getLastRestaurants', data, token);\n    }\n\n    getBookings(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookings', data, token);\n    }\n\n    getLikes(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getLikes', data, token);\n    }\n\n    getOneLike(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getOneLike', data, token);\n    }\n\n    setLikeRestaurant(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('setLikeRestaurant', data, token);\n    }\n\n    getWishesByUser(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getWishesByUser', data, token);\n    }\n\n    haveBooking(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('haveBooking', data, token);\n    }\n\n    storetWishByUser(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('storetWishByUser', data, token);\n    }\n\n    deleteWishByUser(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('deleteWishByUser', data, token);\n    }\n\n    listingTopics(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('listingTopics', data, token);\n    }\n\n    getBookingActive(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingActive', data, token);\n    }\n\n    getsBookingsByUser(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getLastsBookings', data, token);\n    }\n\n    getBookingsForBusinessUser(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingsForBusinessUser', data, token);\n    }\n\n    getMyRestaurants(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getMyRestaurants', data, token);\n    }\n\n    getBookingsByFavs(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingsByFavs', data, token);\n    }\n\n    getBookingsAll(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingsAll', data, token);\n    }\n\n    getBookingsTotal(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingsTotal', data, token);\n    }\n\n    getBookingsByRestaurant(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingsByRestaurant', data, token);\n    }\n\n    createBookingPetition(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('createBookingPetition', data, token);\n    }\n\n    getBookingPetitions(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getBookingPetitions', data, token);\n    }\n\n    getLastBookingsUserBusiness(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('getLastBookingsUserBusiness', data, token);\n    }\n\n    acceptPetition(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('acceptPetition', data, token);\n    }\n\n    cancelPetition(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('cancelPetition', data, token);\n    }\n\n    hasArrived(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('hasArrived', data, token);\n    }\n\n    createBooking(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('createBooking', data, token);\n    }\n\n    deleteBooking(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('deleteBooking', data, token);\n    }\n\n    hasPaymentMethod(data) {\n      let token = window.localStorage.getItem('access_token');\n      return this.httpService.post('hasPaymentMethod', data, token);\n    }\n\n    logout() {\n      localStorage.clear();\n      window.localStorage.clear();\n      window.localStorage.removeItem(\"access_token\");\n      window.localStorage.removeItem(\"id_user\");\n      window.localStorage.removeItem(\"login\");\n      window.localStorage.removeItem(\"role\");\n      window.localStorage.removeItem(\"name\");\n      window.localStorage.removeItem(\"last_name\");\n      window.localStorage.removeItem(\"email\");\n      this.fb.logout().then(res => {\n        console.log(res);\n      }, err => {\n        console.log(err);\n      });\n      this.navCtrl.navigateRoot('/login', {\n        animated: true,\n        animationDirection: 'forward'\n      });\n    }\n\n  }\n\n  AuthService.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.HttpService), i0.ɵɵinject(i2.NavController), i0.ɵɵinject(i3.Facebook));\n  };\n\n  AuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  });\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module"}