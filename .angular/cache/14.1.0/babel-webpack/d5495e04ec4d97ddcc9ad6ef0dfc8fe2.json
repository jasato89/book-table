{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"./../../services/auth.service\";\nimport * as i3 from \"./../../services/toast.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@ionic-native/firebase-analytics/ngx\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../../components/animated-like/animated-like.component\";\n\nfunction Tab3Page_div_19_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 22);\n  }\n}\n\nfunction Tab3Page_div_19_ion_grid_2_ion_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-avatar\", 24);\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\", 26);\n    i0.ɵɵlistener(\"click\", function Tab3Page_div_19_ion_grid_2_ion_item_4_Template_ion_label_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const fav_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.viewRestaurant(fav_r7));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"app-animated-like\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const fav_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://panel.booktable.app/storage/\", fav_r7.images[0], \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fav_r7.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"like\", fav_r7.like)(\"id_rest\", fav_r7.id);\n  }\n}\n\nfunction Tab3Page_div_19_ion_grid_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-row\", 5)(2, \"ion-col\", 6)(3, \"ion-list\");\n    i0.ɵɵtemplate(4, Tab3Page_div_19_ion_grid_2_ion_item_4_Template, 6, 4, \"ion-item\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.favorites);\n  }\n}\n\nfunction Tab3Page_div_19_ion_grid_9_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-avatar\", 28);\n    i0.ɵɵlistener(\"click\", function Tab3Page_div_19_ion_grid_9_ion_item_2_Template_ion_avatar_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.viewRestaurant(item_r11));\n    });\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\", 26);\n    i0.ɵɵlistener(\"click\", function Tab3Page_div_19_ion_grid_9_ion_item_2_Template_ion_label_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r11 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.viewRestaurant(item_r11));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://panel.booktable.app/storage/\", item_r11.images[0], \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r11 == null ? null : item_r11.name, \" \");\n  }\n}\n\nfunction Tab3Page_div_19_ion_grid_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-list\");\n    i0.ɵɵtemplate(2, Tab3Page_div_19_ion_grid_9_ion_item_2_Template, 5, 2, \"ion-item\", 23);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.restaurantsAux);\n  }\n}\n\nfunction Tab3Page_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Tab3Page_div_19_img_1_Template, 1, 0, \"img\", 14);\n    i0.ɵɵtemplate(2, Tab3Page_div_19_ion_grid_2_Template, 5, 1, \"ion-grid\", 15);\n    i0.ɵɵelement(3, \"img\", 16);\n    i0.ɵɵelementStart(4, \"ion-grid\", 17)(5, \"ion-row\", 18)(6, \"ion-col\", 19)(7, \"ion-searchbar\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab3Page_div_19_Template_ion_searchbar_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.searchTerm = $event);\n    })(\"ionChange\", function Tab3Page_div_19_Template_ion_searchbar_ionChange_7_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.setFilteredItems());\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(9, Tab3Page_div_19_ion_grid_9_Template, 3, 1, \"ion-grid\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.favorites);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.favorites);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.searchTerm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.restaurantsAux);\n  }\n}\n\nfunction Tab3Page_div_20_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 16);\n  }\n}\n\nfunction Tab3Page_div_20_ion_grid_2_ion_item_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-label\", 51);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-button\", 26);\n    i0.ɵɵlistener(\"click\", function Tab3Page_div_20_ion_grid_2_ion_item_12_Template_ion_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const fav_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r23.deleteWish(fav_r22));\n    });\n    i0.ɵɵelement(8, \"ion-icon\", 52);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const fav_r22 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fav_r22.have_topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fav_r22.have_city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fav_r22.have_range);\n  }\n}\n\nfunction Tab3Page_div_20_ion_grid_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-row\", 5)(2, \"ion-col\", 6)(3, \"ion-list\")(4, \"ion-list-header\")(5, \"ion-label\", 50);\n    i0.ɵɵtext(6, \"Type de cuisine\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-label\", 50);\n    i0.ɵɵtext(8, \"Ville\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-label\", 50);\n    i0.ɵɵtext(10, \"Rayon\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"ion-label\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, Tab3Page_div_20_ion_grid_2_ion_item_12_Template, 9, 3, \"ion-item\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.wishlist);\n  }\n}\n\nfunction Tab3Page_div_20_ng_container_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-select-option\", 53);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r25.city);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r25.city);\n  }\n}\n\nfunction Tab3Page_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Tab3Page_div_20_img_1_Template, 1, 0, \"img\", 30);\n    i0.ɵɵtemplate(2, Tab3Page_div_20_ion_grid_2_Template, 13, 1, \"ion-grid\", 15);\n    i0.ɵɵelementStart(3, \"ion-grid\")(4, \"ion-row\", 5)(5, \"ion-col\", 6)(6, \"ion-item\");\n    i0.ɵɵelement(7, \"ion-icon\", 31);\n    i0.ɵɵelementStart(8, \"ion-label\", 32);\n    i0.ɵɵtext(9, \" Type de cuisine \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-select\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab3Page_div_20_Template_ion_select_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.topics = $event);\n    })(\"ionChange\", function Tab3Page_div_20_Template_ion_select_ionChange_10_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.optionsTopics(ctx_r28.topics));\n    });\n    i0.ɵɵelementStart(11, \"ion-select-option\", 34);\n    i0.ɵɵtext(12, \"Belge\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-select-option\", 35);\n    i0.ɵɵtext(14, \"Fran\\u00E7aise\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-select-option\", 36);\n    i0.ɵɵtext(16, \"Gastronomique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ion-select-option\", 37);\n    i0.ɵɵtext(18, \"Italienne\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-select-option\", 38);\n    i0.ɵɵtext(20, \"Asiatique\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ion-select-option\", 39);\n    i0.ɵɵtext(22, \"Terroir\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"ion-select-option\", 40);\n    i0.ɵɵtext(24, \"Brasserie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"ion-select-option\", 41);\n    i0.ɵɵtext(26, \"Fusion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"ion-select-option\", 42);\n    i0.ɵɵtext(28, \"Exotique\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(29, \"ion-grid\")(30, \"ion-row\", 5)(31, \"ion-col\", 6)(32, \"ion-item\");\n    i0.ɵɵelement(33, \"ion-icon\", 31);\n    i0.ɵɵelementStart(34, \"ion-label\", 32);\n    i0.ɵɵtext(35, \" Ville \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"ion-select\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab3Page_div_20_Template_ion_select_ngModelChange_36_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.city = $event);\n    })(\"ionChange\", function Tab3Page_div_20_Template_ion_select_ionChange_36_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.optionsCity(ctx_r30.city));\n    });\n    i0.ɵɵtemplate(37, Tab3Page_div_20_ng_container_37_Template, 3, 2, \"ng-container\", 23);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(38, \"ion-grid\")(39, \"ion-row\", 5)(40, \"ion-col\", 6)(41, \"ion-list\")(42, \"ion-item\");\n    i0.ɵɵelement(43, \"ion-icon\", 43);\n    i0.ɵɵelementStart(44, \"ion-label\", 32);\n    i0.ɵɵtext(45, \" Rayon \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"ion-select\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function Tab3Page_div_20_Template_ion_select_ngModelChange_46_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.RadiusGPS = $event);\n    })(\"ionChange\", function Tab3Page_div_20_Template_ion_select_ionChange_46_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.optionsFn(ctx_r32.RadiusGPS));\n    });\n    i0.ɵɵelementStart(47, \"ion-select-option\", 45);\n    i0.ɵɵtext(48, \"500m\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"ion-select-option\", 46);\n    i0.ɵɵtext(50, \"1km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"ion-select-option\", 47);\n    i0.ɵɵtext(52, \"5km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"ion-select-option\", 48);\n    i0.ɵɵtext(54, \"10km\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"ion-select-option\", 48);\n    i0.ɵɵtext(56, \"20km\");\n    i0.ɵɵelementEnd()()()()()()();\n    i0.ɵɵelementStart(57, \"ion-grid\")(58, \"ion-row\", 5)(59, \"ion-col\", 6)(60, \"ion-button\", 49);\n    i0.ɵɵlistener(\"click\", function Tab3Page_div_20_Template_ion_button_click_60_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.addWish());\n    });\n    i0.ɵɵtext(61, \"Ajouter envie\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.wishlist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.wishlist);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.topics)(\"interfaceOptions\", ctx_r1.customActionSheetOptions);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.city)(\"interfaceOptions\", ctx_r1.customActionSheetOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cities);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.RadiusGPS);\n  }\n}\n\nexport let Tab3Page = /*#__PURE__*/(() => {\n  class Tab3Page {\n    constructor(modalController, loadingController, authService, toastService, alertController, router, firebaseAnalytics) {\n      this.modalController = modalController;\n      this.loadingController = loadingController;\n      this.authService = authService;\n      this.toastService = toastService;\n      this.alertController = alertController;\n      this.router = router;\n      this.firebaseAnalytics = firebaseAnalytics;\n      this.postData = {\n        id_user: ''\n      };\n      this.postWish = {\n        id_user: '',\n        topic: '',\n        city: '',\n        range: ''\n      };\n      this.postWishDelete = {\n        id_user: '',\n        id: ''\n      };\n    }\n\n    doRefresh(event) {\n      this.getFavoritesByUserForRefresh(event);\n    }\n\n    ionViewWillEnter() {\n      this.postData.id_user = window.localStorage.getItem('id_user');\n      this.id_user = window.localStorage.getItem('id_user');\n      this.getFavoritesByUser();\n      this.firebaseAnalytics.logEvent('page_view', {\n        page: \"Favourites View\"\n      }).then(res => console.log(res)).catch(error => console.error(error));\n    }\n\n    getFavoritesByUserForRefresh(event) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.authService.getLikes(this.postData).subscribe(res => {\n          this.favorites = res;\n          this.favorites.forEach(element => {\n            element.images = JSON.parse(element.images);\n          });\n          this.segment = window.localStorage.getItem('tab3-save');\n\n          if (this.segment == null) {\n            this.segment = 'favorites';\n          }\n\n          this.getRestaurants();\n          this.getWishesByUser();\n          this.getCities();\n\n          if (this.favorites.length == 0) {\n            this.favorites = null;\n            this.emptyList();\n          }\n\n          event.target.complete();\n        }, error => {\n          this.toastService.presentToast('Problème de réseau.');\n          event.target.complete();\n        });\n      });\n    }\n\n    getFavoritesByUser() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const loading = yield this.loadingController.create({\n          message: 'Chargement...',\n          mode: 'ios'\n        });\n        yield loading.present();\n        this.authService.getLikes(this.postData).subscribe(res => {\n          this.favorites = res;\n          this.favorites.forEach(element => {\n            element.images = JSON.parse(element.images);\n          });\n          this.segment = window.localStorage.getItem('tab3-save');\n\n          if (this.segment == null) {\n            this.segment = 'favorites';\n          }\n\n          this.getRestaurants();\n          this.getWishesByUser();\n          this.getCities();\n          loading.dismiss();\n\n          if (this.favorites.length == 0) {\n            this.favorites = null;\n            this.emptyList();\n          }\n        }, error => {\n          this.toastService.presentToast('Problème de réseau.');\n        });\n      });\n    }\n\n    emptyList() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-custom-class',\n          header: 'Oups!',\n          subHeader: \"On dirait que vous n'avez encore rien ajouté aux favoris\",\n          message: \"Essayez d'abord d'ajouter un restaurant aux favoris\",\n          buttons: ['OK']\n        });\n        yield alert.present();\n      });\n    }\n\n    getRestaurants() {\n      this.authService.getAllRestaurants(this.postData).subscribe(res => {\n        this.restaurants = res;\n        this.restaurants.forEach(element => {\n          element.images = JSON.parse(element.images);\n        });\n        this.restaurantsAux = this.restaurants;\n      }, error => {\n        this.toastService.presentToast('Problème de réseau.');\n      });\n    }\n\n    setFilteredItems() {\n      this.restaurantsAux = this.filterItems(this.searchTerm);\n    }\n\n    filterItems(searchTerm) {\n      return this.restaurants.filter(item => {\n        return item.name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n      });\n    }\n\n    viewRestaurant(item) {\n      let navigationExtras = {\n        state: {\n          item: item\n        }\n      };\n      this.router.navigate(['home/tabs/tabs2/restaurant-details'], navigationExtras);\n    }\n\n    profile() {\n      this.router.navigate(['home/tabs/user-profile']);\n    }\n\n    getWishesByUser() {\n      this.authService.getWishesByUser(this.postData).subscribe(res => {\n        this.wishlist = res;\n\n        if (this.wishlist.length == 0) {\n          this.wishlist = null;\n        } else {\n          this.wishlist.forEach(element => {\n            element.have_range = this.setRange(element.have_range);\n          });\n        }\n      }, error => {\n        this.toastService.presentToast('Problème de réseau.');\n      });\n    }\n\n    setRange(range) {\n      var result;\n\n      switch (range) {\n        case \"500\":\n          result = \"500m\";\n          break;\n\n        case \"1000\":\n          result = \"1km\";\n          break;\n\n        case \"5000\":\n          result = \"5km\";\n          break;\n\n        case \"10000\":\n          result = \"10km\";\n          break;\n\n        case \"20000\":\n          result = \"20km\";\n          break;\n      }\n\n      return result;\n    }\n\n    getCities() {\n      this.authService.getCitysFromRestaurants().subscribe(res => {\n        this.cities = res.sort();\n      }, error => {\n        this.toastService.presentToast('Problème de réseau.');\n      });\n    }\n\n    addWish() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.validateInputs()) {\n          const loading = yield this.loadingController.create({\n            message: 'Chargement...',\n            mode: 'ios'\n          });\n          yield loading.present();\n          this.postWish.id_user = window.localStorage.getItem('id_user');\n          this.postWish.topic = this.topics;\n          this.postWish.city = this.city;\n          this.postWish.range = this.RadiusGPS;\n          this.authService.storetWishByUser(this.postWish).subscribe(res => {\n            this.toastService.presentToast('Envie ajoutée');\n            this.getFavoritesByUser();\n            loading.dismiss();\n          }, error => {\n            this.toastService.presentToast('Problème de réseau.');\n            loading.dismiss();\n          });\n        } else {\n          this.toastService.presentToast('Remplissez les champs');\n        }\n      });\n    }\n\n    validateInputs() {\n      if (this.topics && this.city && this.RadiusGPS) {\n        return true;\n      }\n    }\n\n    deleteWish(fav) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const loading = yield this.loadingController.create({\n          message: 'Chargement...',\n          mode: 'ios'\n        });\n        yield loading.present();\n        this.postWishDelete.id_user = window.localStorage.getItem('id_user');\n        this.postWishDelete.id = fav.id;\n        this.authService.deleteWishByUser(this.postWishDelete).subscribe(res => {\n          this.getFavoritesByUser();\n          loading.dismiss();\n        }, error => {\n          this.toastService.presentToast('Problème de réseau.');\n          loading.dismiss();\n        });\n      });\n    }\n\n    tabChange(event) {\n      window.localStorage.setItem('tab3-save', event);\n    }\n\n    optionsTopics(topic) {}\n\n    optionsCity(city) {}\n\n    optionsFn(RadiusGPS) {}\n\n  }\n\n  Tab3Page.ɵfac = function Tab3Page_Factory(t) {\n    return new (t || Tab3Page)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i1.LoadingController), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ToastService), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.FirebaseAnalytics));\n  };\n\n  Tab3Page.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Tab3Page,\n    selectors: [[\"app-tab3\"]],\n    decls: 21,\n    vars: 5,\n    consts: [[\"src\", \"assets/resources/logo_letters.svg\", 1, \"smallLogo\"], [\"slot\", \"end\", 1, \"profile-button\"], [\"name\", \"person-circle-outline\", 1, \"profile-icon\", 3, \"click\"], [3, \"fullscreen\"], [\"slot\", \"fixed\", 3, \"ionRefresh\"], [1, \"ion-justify-content-center\"], [\"size\", \"12\"], [\"mode\", \"ios\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"value\", \"favorites\"], [\"name\", \"heart-outline\", 1, \"icons-green\"], [\"value\", \"wishlist\"], [\"name\", \"book-outline\", 1, \"icons-green\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"src\", \"assets/resources/FAVORITES.jpg\", 4, \"ngIf\"], [4, \"ngIf\"], [\"src\", \"assets/resources/wishlist.jpg\"], [1, \"searchbar-grid\"], [1, \"ion-justify-content-center\", \"searchbar\"], [\"size\", \"12\", 1, \"center-col\", \"searchbar-col\"], [\"mode\", \"ios\", \"ngDefaultControl\", \"\", \"placeholder\", \"Ajoute tes restos favoris\", \"animated\", \"\", \"showCancelButton\", \"never\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"search\", \"\"], [\"src\", \"assets/resources/FAVORITES.jpg\"], [4, \"ngFor\", \"ngForOf\"], [\"slot\", \"start\"], [3, \"src\"], [3, \"click\"], [\"slot\", \"end\", 2, \"position\", \"absolute\", \"top\", \"10px\", \"right\", \"0\", 3, \"like\", \"id_rest\"], [\"slot\", \"end\", 1, \"custom-avatar\", 3, \"click\"], [1, \"img-restaurants\", 3, \"src\"], [\"src\", \"assets/resources/wishlist.jpg\", 4, \"ngIf\"], [\"name\", \"bookmarks-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"floating\", \"\", 1, \"label-wishlist\"], [\"mode\", \"ios\", \"interface\", \"action-sheet\", \"cancelText\", \"Annuler\", 3, \"ngModel\", \"interfaceOptions\", \"ngModelChange\", \"ionChange\"], [\"value\", \"belge\"], [\"value\", \"fran\\u00E7aise\"], [\"value\", \"gastronomique\"], [\"value\", \"italienne\"], [\"value\", \"asiatique\"], [\"value\", \"terroir\"], [\"value\", \"brasserie\"], [\"value\", \"fusion\"], [\"value\", \"exotique\"], [\"name\", \"compass-outline\", \"item-start\", \"\", 1, \"icons-green\"], [\"mode\", \"ios\", \"interface\", \"action-sheet\", \"placeholder\", \"500m - 20km\", \"cancelText\", \"Annuler\", 3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"value\", \"500\"], [\"value\", \"1000\"], [\"value\", \"5000\"], [\"value\", \"10000\"], [\"expand\", \"block\", 3, \"click\"], [1, \"ion-text-wrap\"], [1, \"data-value\"], [\"slot\", \"icon-only\", \"name\", \"close-outline\"], [3, \"value\"]],\n    template: function Tab3Page_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\");\n        i0.ɵɵelement(2, \"img\", 0);\n        i0.ɵɵelementStart(3, \"ion-buttons\", 1)(4, \"ion-icon\", 2);\n        i0.ɵɵlistener(\"click\", function Tab3Page_Template_ion_icon_click_4_listener() {\n          return ctx.profile();\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(5, \"ion-content\", 3)(6, \"ion-refresher\", 4);\n        i0.ɵɵlistener(\"ionRefresh\", function Tab3Page_Template_ion_refresher_ionRefresh_6_listener($event) {\n          return ctx.doRefresh($event);\n        });\n        i0.ɵɵelement(7, \"ion-refresher-content\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"ion-grid\")(9, \"ion-row\", 5)(10, \"ion-col\", 6)(11, \"ion-segment\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function Tab3Page_Template_ion_segment_ngModelChange_11_listener($event) {\n          return ctx.segment = $event;\n        })(\"ionChange\", function Tab3Page_Template_ion_segment_ionChange_11_listener() {\n          return ctx.tabChange(ctx.segment);\n        });\n        i0.ɵɵelementStart(12, \"ion-segment-button\", 8);\n        i0.ɵɵelement(13, \"ion-icon\", 9);\n        i0.ɵɵtext(14, \" Mes favoris \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-segment-button\", 10);\n        i0.ɵɵelement(16, \"ion-icon\", 11);\n        i0.ɵɵtext(17, \" Mes envies \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(18, \"div\", 12);\n        i0.ɵɵtemplate(19, Tab3Page_div_19_Template, 10, 4, \"div\", 13);\n        i0.ɵɵtemplate(20, Tab3Page_div_20_Template, 62, 8, \"div\", 13);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.segment);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngSwitch\", ctx.segment);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"favorites\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngSwitchCase\", \"wishlist\");\n      }\n    },\n    dependencies: [i1.IonAvatar, i1.IonButton, i1.IonButtons, i1.IonCol, i1.IonContent, i1.IonGrid, i1.IonHeader, i1.IonIcon, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonListHeader, i1.IonRefresher, i1.IonRefresherContent, i1.IonRow, i1.IonSearchbar, i1.IonSegment, i1.IonSegmentButton, i1.IonSelect, i1.IonSelectOption, i1.IonToolbar, i1.SelectValueAccessor, i1.TextValueAccessor, i6.NgForOf, i6.NgIf, i6.NgSwitch, i6.NgSwitchCase, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i8.AnimatedLikeComponent],\n    styles: [\"ion-toolbar[_ngcontent-%COMP%]{text-align:center;margin:0 auto;--background: #1C2129}ion-title[_ngcontent-%COMP%]{color:#fff}ion-content[_ngcontent-%COMP%]{--background:#fff}ion-avatar[_ngcontent-%COMP%]{--border-radius:10px;width:60px;height:60px}.smallLogo[_ngcontent-%COMP%]{width:150px;text-align:center;margin:10px}.icons-green[_ngcontent-%COMP%]{color:#00ba5c;font-size:30px}.data-value[_ngcontent-%COMP%]{color:#00ba5c;font-style:italic;font-weight:600}.label-wishlist[_ngcontent-%COMP%]{margin:10px}.profile-button[_ngcontent-%COMP%]{position:absolute;color:#fff;right:10px}.profile-icon[_ngcontent-%COMP%]{font-size:24px}.claim-text[_ngcontent-%COMP%]{margin:4px;color:#fff}\"]\n  });\n  return Tab3Page;\n})();","map":null,"metadata":{},"sourceType":"module"}